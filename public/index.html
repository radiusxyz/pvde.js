<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>Delay encryption in wasm</title>
  </head>

  <body>
    <script type="module">
      import { pvde, skde } from "../src/index.js";

      async function runWasm() {
        try {
          console.log(skde);
          const skde_params = {
            n: "109108784166676529682340577929498188950239585527883687884827626040722072371127456712391033422811328348170518576414206624244823392702116014678887602655605057984874271545556188865755301275371611259397284800785551682318694176857633188036311000733221068448165870969366710007572931433736793827320953175136545355129",
            g: "4",
            t: 4,
            h: "4294967296",
            max_sequencer_number: 2,
          };

          const message =
            "0xf869018203e882520894f17f52151ebef6c7334fad080c5704d77216b732881bc16d674ec80000801ba02da1c48b670996dcb1f447ef9ef00b33033c48a4fe";
          const encryption_key = {
            pk: "103353180279064097806611359848330587783164288818463369818062497129209377721576548877829914198946136037302282335858143940642543754343166465279214434818822133901032782983488812764766513809761084260932903715526462259936515901288454184991584862663998301700346522493906194382822622570569152833784450788149136090302",
          };
          const decryption_key = {
            sk: "50008398650256259524799301806241980690730902473533808791154125491858416978957747009143719340768682162080490544339943565634444046348815024633373928912669720891052141980152537517918696566455000779813427460296151544019526210884551824681390455148223665235886236720363702126228878507030025464802695057007185157156",
          };

          const cipherMessage = await skde.encryptMessage(
            skde_params,
            message,
            encryption_key
          );
          console.log("Encrypted Message:", cipherMessage);
        } catch (error) {
          console.error("An error occurred during encryption:", error);
        }
      }

      runWasm();
    </script>
  </body>
</html>
